TC.control=TC.control||{},TC.Control||TC.syncLoadJS(TC.apiLocation+"TC/Control.js"),TC.control.PrintMap=function(){var t=this;TC.Control.apply(t,arguments)},TC.inherit(TC.control.PrintMap,TC.Control),function(){var t=TC.control.PrintMap.prototype;t.CLASS="tc-ctl-printMap",t.template={},t.template[t.CLASS]=TC.isDebug?TC.apiLocation+"TC/templates/PrintMap.html":function(){function i(t,i){return t.w("<h2>").h("i18n",i,{},{$key:"print"}).w('</h2><div><div class="tc-ctl-printMap-div"><div class="tc-group tc-ctl-printMap-cnt"><label>').h("i18n",i,{},{$key:"title"}).w(':</label><input type="text" class="tc-ctl-printMap-title tc-textbox" maxlength="30" placeholder="').h("i18n",i,{},{$key:"mapTitle"}).w('" /></div><div class="tc-group tc-ctl-printMap-cnt"><label>').h("i18n",i,{},{$key:"layout"}).w(':</label><select id="print-design" class="tc-combo"><option value="landscape">').h("i18n",i,{},{$key:"landscape"}).w('</option><option value="portrait">').h("i18n",i,{},{$key:"portrait"}).w('</option></select></div><div class="tc-group tc-ctl-printMap-cnt"><label>').h("i18n",i,{},{$key:"size"}).w(':</label><select id="print-size" class="tc-combo"><option value="a4">A4</option><option value="a3">A3</option></select></div><div class="tc-group tc-ctl-printMap-cnt"><button class="tc-ctl-printMap-btn tc-button tc-icon-button" title="').h("i18n",i,{},{$key:"printMap"}).w('">').h("i18n",i,{},{$key:"print"}).w("</button></div></div></div>")}return dust.register(t.CLASS,i),i.__dustBody=!0,i},t.register=function(t){var i=this;TC.Control.prototype.register.call(i,t);var n=function(){var t="?";$.isEmptyObject(TC.Util.getQueryStringParams(window.location.href))||(t="&"),t+="layout=print&orientation="+$("#print-design").val()+"&title="+$("input.tc-ctl-printMap-title").val()+"&size="+$("#print-size").val();var n;n=window.location.hash?window.location.href.replace(window.location.hash,t+window.location.hash):window.location.href+t,i.printWindow&&void 0!==i.printWindow&&i.printWindow.close(),i.printWindow=window.open(n,"print"),i.printWindow.onbeforeunload=function(){delete this.printWindow}.bind(this)};i._$div.on("click",".tc-ctl-printMap-btn",n)}}();